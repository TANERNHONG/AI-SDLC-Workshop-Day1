# LLM-Assisted PRD Creator ‚Äî Guided, Step-by-Step (Reverse Prompting)

## Behavior Rules (read carefully)
You are a senior product manager facilitating a concise but realistic PRD. 
Follow this loop on every turn until the PRD is complete:

1) Ask exactly ONE focused question for the next missing section.
2) Provide a short, concrete EXAMPLE answer (1‚Äì2 lines) for guidance.
3) Update the ‚ÄúCurrent PRD Draft‚Äù with the user‚Äôs latest answer ONLY in the relevant fields.
4) Show ‚ÄúWhat‚Äôs Next‚Äù (the next section you will ask about).
5) When all sections are filled, output ONLY the final PRD in Markdown (no examples, no guidance text).

Constraints:
- Keep questions short and specific.
- Don‚Äôt jump sections; fill in order.
- Keep the draft compact and readable.
- If the user‚Äôs answer is unclear, ask a micro follow-up (one line) before updating.

## Sections & Order
1. Product Overview (Title, Summary, Target Audience)
2. Goals & Success Metrics (Business Goals, User Goals, Key Metrics)
3. User Personas (1‚Äì2)
4. Core Features (3‚Äì5, with short description + priority)
5. User Journey (key steps from start to goal)
6. Technical Considerations (platforms, integrations, data, privacy)
7. Risks & Dependencies (top 2‚Äì4)
8. Timeline & Milestones (MVP ‚Üí Beta ‚Üí Launch)

## Current PRD Draft (update this block every turn)
PRD_DRAFT = {
  "Product Overview": {
    "Title": "MQL5 Expert Advisor Builder - Multi-Page Visual Code Assembly Platform with Documentation Management",
    "Summary": "A comprehensive visual drag-and-drop web-based platform that allows traders to assemble fully functioning Expert Advisors (EAs) for MetaTrader 5 without writing code from scratch. Features include: (1) Expandable sidebar navigation (64px/240px) enabling multi-page architecture for Dashboard, Settings, Templates, Documentation, and Export History (future features), (2) Event Handler Tab in Code Library with toggleable MQL5 event functions (15 handlers: OnInit/OnDeinit always included, 13 optional), (3) Automatic global variable generation with styled input fields for manual value editing with real-time validation, (4) Pre-built code snippet library across 5 default tabs (Utilities, Indicators, Pre-made Functions, Event Handlers, Documentations), (5) Custom documentation management for strategy notes and guides with Markdown support, (6) Real-time code assembly with proper MQL5 structure. Users combine components through an intuitive interface with collapsible sidebar (left), workspace (center), and library (right) to create sophisticated trading bots with comprehensive documentation. Future-ready architecture allows seamless addition of new pages and features.",
    "Target Audience": "MetaTrader 5 traders, algorithmic traders, and trading system developers ranging from beginners with no MQL5 knowledge to professional EA developers seeking workflow acceleration. Secondary audience includes trading educators demonstrating EA concepts and teams collaborating on trading system development. The expandable navigation system appeals to power users managing multiple EAs and requiring access to templates, settings, and historical exports."
  },
  "Goals & Success Metrics": {
    "Business Goals": "Enable rapid Expert Advisor prototyping and development (target: <15 min for basic EA), eliminate technical barriers to algorithmic trading, create a knowledge management platform for trading strategies, establish a visual development environment that combines code assembly with documentation, and build a foundation for community-driven snippet and template sharing.",
    "User Goals": "Quickly assemble working Expert Advisors by combining pre-built components with automatic global variable generation, customize indicator parameters through always-visible input fields, toggle MQL5 event handlers based on EA requirements, document trading strategies alongside code development, organize reusable snippets and documentation in custom tabs, and export production-ready MQL5 code files for MetaEditor with zero manual coding.",
    "Key Metrics": "Number of EAs created per user (target: 3+ per month), time from start to export (target: <15 min basic, <45 min advanced), global variable editing rate (target: >70% users customize at least 3 globals), event handler selection diversity (target: >50% users enable 2+ optional handlers), documentation creation rate (target: >40% users create at least 1 doc), custom snippet/tab creation (target: >30% users create custom content), user retention (weekly active users >60%), successful EA exports to MetaEditor (target: >90% compilation success rate), and user satisfaction (NPS score >50)."
  },
  "User Personas": [
    {
      "Name": "Alex the Retail Trader",
      "Role/Segment": "Experienced forex trader (3+ years) with basic programming knowledge (HTML/CSS, maybe Python basics)",
      "Goals": "Wants to automate personal trading strategies without deep MQL5 expertise, needs to quickly test multiple strategy variations with different parameters, seeks to build and maintain 3-5 personal EAs, wants to document strategy logic for future reference and optimization",
      "Pain Points": "Limited time to learn complex programming languages (tried MQL5, gave up after 2 weeks), frustrated by trial-and-error coding and compilation errors, struggles with MQL5 event handler concepts, needs faster iteration cycles (current manual coding takes days), forgets why certain parameters were chosen months later, lacks organized documentation of trading strategies"
    },
    {
      "Name": "Sarah the Algorithm Developer",
      "Role/Segment": "Professional algo-trader building EAs for 10-15 clients annually, 5+ years MQL5 experience",
      "Goals": "Speed up EA development workflow (currently 40-60 hours per client EA), reuse common trading logic across client projects, maintain organized library of tested components with documentation, reduce repetitive boilerplate coding, deliver faster turnaround to clients, document parameter choices for client education",
      "Pain Points": "Spends 30-40% of time on boilerplate code (indicators, risk management, time filters), copy-pasting code between projects introduces subtle bugs, difficult to organize 100+ reusable functions across projects, client projects have tight 2-week deadlines, clients constantly ask 'why this parameter value?', lacking centralized knowledge base for EA patterns"
    },
    {
      "Name": "Marcus the Trading Educator",
      "Role/Segment": "Trading coach teaching algorithmic trading to 20-30 students per cohort, runs 8-week online courses",
      "Goals": "Demonstrate EA building visually to students in live sessions, help students understand EA structure and event flow without code overwhelm, enable students to create their first working EA in week 3 of course, provide students with documentation templates for strategy planning, teach parameter optimization concepts through hands-on editing",
      "Pain Points": "Students intimidated by blank MetaEditor screen and MQL5 syntax, hard to teach abstract concepts (OnInit vs OnTick) in 2-hour sessions, students spend 80% of time debugging syntax errors instead of learning strategy logic, need hands-on tools that work in first try, students lack structured approach to documenting strategies, 50% dropout rate when coding starts"
    },
    {
      "Name": "Jennifer the Trading Team Lead",
      "Role/Segment": "Manages team of 4 junior traders developing proprietary EAs for hedge fund",
      "Goals": "Standardize EA development process across team, ensure consistent code structure and documentation, enable junior traders to build EAs with less supervision, maintain knowledge base of team's trading strategies and parameter rationale, accelerate onboarding of new team members (currently 3 months to productivity)",
      "Pain Points": "Each team member codes differently (inconsistent patterns), juniors reinvent the wheel instead of reusing team's code, strategy knowledge locked in individual team members' heads, difficult to review and understand team members' EAs, no centralized documentation of why strategies work or fail, 3-month onboarding time too long"
    }
  ],
  "Core Features": [
    { "Feature Name": "Sidebar Navigation System", "Description": "Collapsible left-side navigation bar (64px collapsed, 240px expanded) enabling multi-page architecture. Collapsed state shows icon-only buttons (üè† Dashboard, ‚öôÔ∏è Settings, üìã Templates, üìö Documentation, üì¶ Export History). Expanded state shows full labels with current page indicator. Smooth 300ms animation during toggle. Keyboard shortcut Ctrl/Cmd+B for toggle. State persistence in localStorage. Currently Dashboard is active; other pages show 'Coming Soon' placeholders for future features. Benefits: maximizes workspace area when collapsed, future-ready for adding new features, quick navigation between app sections. Hamburger menu icon (‚ò∞) at top triggers expansion.", "Priority": "P0 (Critical - Foundation)" },
    { "Feature Name": "Event Handler Tab", "Description": "Tab within Code Library (right side) with toggleable switches for 15 MQL5 event handlers. OnInit and OnDeinit always included (required, grayed out). 13 optional handlers toggleable: OnStart, OnTick, OnCalculate, OnTimer, OnTrade, OnTradeTransaction, OnBookEvent, OnChartEvent, OnTester, OnTesterInit, OnTesterDeinit, OnTesterPass. Visual indicators (green checkmark when enabled), tooltips explaining each handler's purpose, dependency warnings (e.g., OnTimer requires EventSetTimer), quick presets (Standard EA, Time-Based, Strategy Tester). Integrated with code assembly to generate only enabled handlers. Organized in 6 categories: Required, Trading, Lifecycle, Data, Interaction, Testing.", "Priority": "P0 (Critical - Foundation)" },
    { "Feature Name": "Automatic Global Variable Generation", "Description": "When code snippets (indicators, utilities, risk management) are dragged to workspace, system automatically creates mini global variable blocks with always-visible input fields. Features: styled input fields (light gray default, blue focus, red invalid, green modified), real-time validation with min/max constraints, number spinners (‚ñ≤‚ñº) for numeric values, toggle switches for booleans, keyboard navigation (Tab, Enter, Escape, arrows), inline editing with auto-select text, dependency tracking (shows which main blocks use each global), smart deletion warnings, auto-grouping in dedicated globals section at top of workspace, bulk editing capabilities, reset to default button. Examples: RSI creates g_rsi_period/g_rsi_overbought/g_rsi_oversold, ATR creates g_indicator_atr_period.", "Priority": "P0 (Critical - Core UX)" },
    { "Feature Name": "Dashboard Layout with Sidebar", "Description": "Responsive layout with: (1) Sidebar Navigation (far left, 64px collapsed/240px expanded, page navigation), (2) Workspace (center, expandable, drop zone with sections: globals, main code), (3) Code Library (right side, tabbed interface with 5 default tabs including Event Handlers plus custom tabs), (4) Bottom Bar (full width minus sidebar, preview and save buttons). Main content area adjusts width dynamically based on sidebar state (ml-16 when collapsed, ml-60 when expanded). Visual separators between sections, collapsible panels, split-screen capability for documentation viewing. Sidebar overlays content on mobile devices (<768px) with click-outside-to-close behavior.", "Priority": "P0 (Critical - Foundation)" },
    { "Feature Name": "Code Snippet Library (5 Default Tabs)", "Description": "Pre-built MQL5 code snippets organized in 5 default tabs: (1) Utilities - position sizing (risk-based lots, fixed lots), risk management (trailing stop, break even, max daily loss), time filters (trading hours, session filters, day of week), account functions (balance checks, margin verification), price utilities (pip value, spread calculator); (2) Indicators - trend (MA, MACD, ADX, Parabolic SAR), momentum (RSI, Stochastic, CCI), volatility (Bollinger Bands, ATR, Standard Deviation), volume indicators; (3) Pre-made Functions - complete entry/exit logic, trade management systems, risk management systems, complete EA templates; (4) Event Handlers - tab for configuring MQL5 event handler functions (toggle on/off 15 handlers organized in 6 categories with tooltips, presets, and dependency warnings); (5) Documentations - custom written text documentation (strategy explanations, parameter guides, setup instructions, troubleshooting notes, trading journal, general notes) with Markdown support, not draggable to workspace, reference material only. Each code snippet shows solid border, title, description, parameters, return type, and preview of code.", "Priority": "P0 (Critical)" },
    { "Feature Name": "Documentations Tab & Management", "Description": "Dedicated tab for custom written documentation in text form (non-code). Features: create documentation with title/category/tags/content, 6 categories (Strategy Explanations, Parameter Guides, Setup Instructions, Troubleshooting Notes, Trading Journal, General Notes), Markdown formatting support (headings, bold, italic, lists, checkboxes, code blocks, tables), preview mode toggle, search and filter by category/tags, export as .txt/.md/.pdf, import documentation files, bulk export as .zip, documentation templates (strategy, parameter, setup), pin important docs to top, split-screen viewing while building EA, version history (optional). Documentation blocks have white/cream background (vs colored code blocks), text icon, cannot be dragged to workspace (reference only).", "Priority": "P1 (High - Differentiation)" },
    { "Feature Name": "Workspace Block Management with Global Variable Sections", "Description": "Center workspace with 3 organized sections: (1) Global Variables Section (top, light blue background, auto-grouped, collapsible, sortable A-Z, shows count badge) - mini blocks with always-visible input fields, inline editing, dependency indicators (üîó icon), (2) Event Handlers Section (middle, green separator, shows enabled handlers from sidebar) - OnInit/OnDeinit/optional handlers with expand/collapse, (3) Main Code Blocks Section (bottom, purple separator) - draggable code blocks from library, expandable to view full code, parameter configuration modals, delete functionality, reordering via drag-and-drop. Visual separators (‚ïê‚ïê‚ïê) between sections, section-level collapse/expand, free positioning mode toggle.", "Priority": "P0 (Critical)" },
    { "Feature Name": "Drag-and-Drop System", "Description": "Intuitive drag-and-drop using dnd-kit or React DnD. Features: drag snippets from library to workspace with visual feedback (ghost image, drop zone highlighting), insert between existing blocks with insertion indicator (dotted line), reorder blocks within workspace, drag global variable blocks within globals section, cannot drag documentation blocks (text-only), undo/redo support, keyboard accessibility (Space to grab, arrows to move, Enter to drop), multi-select for bulk operations, snap-to-grid optional alignment.", "Priority": "P0 (Critical)" },
    { "Feature Name": "Custom Snippet & Tab Creation", "Description": "Users create custom code snippets and organize into custom tabs. Add snippet: dotted border '+ Add Custom Snippet' button, modal with fields (name, description, code textarea, category dropdown, parameters list, global variables definitions), MQL5 syntax validation, save to localStorage. Edit/delete custom snippets via right-click context menu. Create custom tabs: + button in tab bar, modal for tab name/description/icon, rename/delete tabs (except default 4), reorder tabs via drag, tab persistence in localStorage, export/import tab configurations.", "Priority": "P1 (High)" },
    { "Feature Name": "Code Assembly Engine", "Description": "Combines blocks into proper MQL5 EA structure with correct ordering: (1) File header comments, (2) Property directives (#property), (3) Include directives (#include), (4) Global variables from mini blocks (sorted by position), (5) Input parameters (optional), (6) Event handlers (only enabled ones, in correct order: OnStart ‚Üí OnInit ‚Üí OnDeinit ‚Üí OnTick ‚Üí OnCalculate ‚Üí OnTimer ‚Üí OnTrade ‚Üí OnTradeTransaction ‚Üí OnBookEvent ‚Üí OnChartEvent ‚Üí OnTester ‚Üí OnTesterInit ‚Üí OnTesterDeinit ‚Üí OnTesterPass), (7) Custom functions from main blocks. Dependency resolution, variable deduplication, automatic indentation, comment generation for each section, integration with global variable system (reads current values from input fields), integration with event handler sidebar (includes only enabled handlers).", "Priority": "P0 (Critical)" },
    { "Feature Name": "Code Preview System", "Description": "Modal preview of assembled code with: Monaco Editor or Prism.js syntax highlighting for MQL5, statistics panel (lines of code, number of functions, number of blocks used, enabled event handlers count, global variables count, compilation estimate), copy to clipboard button (full code or selected lines), basic syntax validation (bracket matching, semicolon checks, function signature validation), error highlighting with line numbers, download preview as .mq5 file, side-by-side comparison (if editing existing EA), search within preview, collapsible sections mirroring workspace structure.", "Priority": "P1 (High)" },
    { "Feature Name": "Export & Workspace Persistence", "Description": "Save/Export: export assembled EA as .txt file (MetaEditor compatible), automatic filename with timestamp (EA_StrategyName_20251113_143022.txt), save workspace configuration (block positions, global variable values, enabled handlers, custom tabs, documentation), load previous workspace, export workspace as JSON for sharing, version management (track changes over time), batch export (create multiple EA variations). Persistence: localStorage for workspace state, global variable values, event handler selections, custom snippets/tabs, documentation blocks, recent projects list (last 10), auto-save every 30 seconds (configurable), export/import for backup.", "Priority": "P0 (Critical)" },
    { "Feature Name": "Search & Organization", "Description": "Global search across all tabs (code snippets and documentation), filter by category/tags, sort options (alphabetical, recently used, most used), favorites/bookmarks for frequently used snippets, snippet usage analytics (track which snippets used most), dependency graph visualization (show relationships between globals and main blocks), code block grouping with labels/colors, workspace zoom controls, minimap for large workspaces.", "Priority": "P2 (Nice-to-Have)" }
  ],
  "User Journey": "1) User opens app at localhost:3000, lands on Dashboard page with sidebar collapsed (64px, icon-only) on far left showing üè† Dashboard (highlighted), ‚öôÔ∏è Settings, üìã Templates, üìö Documentation, üì¶ Export History. Main area shows workspace (center) and library with 5 tabs (right). 2) User hovers over sidebar icons to see tooltips, clicks hamburger icon (‚ò∞) to expand sidebar to 240px showing full page labels. Dashboard remains active. User clicks Settings (sees 'Coming Soon' placeholder), returns to Dashboard. 3) User clicks 'Event Handlers' tab in library (right side), sees OnInit/OnDeinit grayed out (always included), clicks toggle for OnTick (turns green), tooltip explains 'Called on every price tick - main trading logic'. 3) User clicks 'Indicators' tab in library, browses available indicators, reads descriptions. 4) User drags 'RSI Indicator' snippet to workspace - system automatically creates 3 mini global variable blocks (g_rsi_period = 14, g_rsi_overbought = 70.0, g_rsi_oversold = 30.0) in Globals Section at top, plus main RSI code block in Main Code Section. 5) User clicks on g_rsi_period input field (shows [14]), types 21, presses Enter - value updates to 21 with green checkmark, bold text. 6) User clicks on g_rsi_overbought field, changes from 70.0 to 75.0 using up arrow spinner. 7) User drags 'Moving Average' snippet - 2 new globals appear (g_ma_period = 20, g_ma_shift = 0), MA block appears in Main Code. 8) User clicks 'Utilities' tab, drags 'Calculate Lot Size' - 1 new global appears (g_risk_percent = 1.0), lot size function appears in Main Code. 9) User switches to 'Documentations' tab, clicks '+ Add Documentation', fills modal: Title='MA-RSI Strategy', Category='Strategy Explanation', Content='This strategy combines MA trend with RSI momentum...', saves. 10) Documentation block appears in Documentations tab (white background, text icon), user clicks 'View Full' to read in modal. 11) User pins documentation, switches back to 'Indicators' tab, views pinned doc in split-screen while continuing to build. 12) User adds 'Pre-made Functions' ‚Üí 'Confirmation-Based Buy Entry', drags to workspace. 13) User clicks 'Preview' button in bottom bar - modal opens showing complete MQL5 code with syntax highlighting, statistics panel shows: 247 lines, 8 functions, 6 blocks used, 3 handlers enabled (OnInit/OnDeinit/OnTick), 6 globals. 14) User reviews code structure: sees globals at top, then OnInit/OnDeinit/OnTick with proper signatures, then custom functions, clicks 'Copy All'. 15) User clicks 'Save', filename auto-generates 'EA_MA_RSI_Strategy_20251113_143545.txt', downloads. 16) User opens MetaEditor, creates new EA, pastes code, compiles successfully (0 errors), attaches to chart in MetaTrader 5. 17) User returns to builder, workspace auto-saved, clicks 'Documentations' tab, adds new doc 'Parameter Optimization Log', records testing results as trading journal entry.",
  "Technical Considerations": "Frontend: Next.js 15 with React 19, App Router, TypeScript strict mode, Tailwind CSS 4 (PostCSS) for styling. Navigation: Client-side routing for sidebar page switching (Dashboard, Settings, Templates, Documentation, Export History), sidebar state managed with React Context + localStorage persistence, keyboard event listeners for Ctrl/Cmd+B toggle shortcut, CSS transitions (300ms ease-in-out) for smooth sidebar expansion/collapse, responsive behavior with mobile overlay (position: fixed) on screens <768px. Drag-and-Drop: dnd-kit library (modern, performant, accessible) for snippet/block interactions with sortable and droppable contexts. State Management: React Context API + useReducer for workspace state, Zustand for global app state (optional), localStorage sync for persistence. Storage: Browser localStorage (5-10MB) for custom snippets (estimated 50-100 snippets = ~500KB), tab configurations (~50KB), workspace state (~200KB per workspace), documentation (~1MB for 50 docs), recent projects list (~100KB). Implement export/import for exceeding limits. Code Highlighting: Monaco Editor (same as VS Code) for preview with MQL5 language support, or Prism.js as lightweight alternative. Code Assembly: Custom engine with template strings and position-based sorting, global variable reader from input field refs, event handler filter based on sidebar state, dependency graph for correct ordering. Validation: Basic MQL5 syntax checking with regex patterns (brackets, semicolons, function declarations, variable names), real-time validation on global variable inputs (min/max/step constraints), compilation simulation (estimate errors before export). Testing: Playwright for E2E tests (drag-drop, global editing, event handler toggling, export), Jest + React Testing Library for unit tests (component logic, validation functions, code assembly), 80%+ code coverage target. Documentation: Markdown parsing with marked.js or remark, preview rendering with react-markdown, export to PDF with jsPDF. Export: Client-side file generation using Blob API + createObjectURL for .txt export, JSZip for bulk documentation export, FileSaver.js for cross-browser compatibility. Performance: Virtualization for large snippet lists (react-window), debounced auto-save (300ms delay), lazy loading for documentation content, code splitting by route, web workers for heavy code assembly operations. Accessibility: WCAG 2.1 AA compliance, keyboard navigation (Tab, Enter, Escape, Arrows, Space), screen reader labels (ARIA), focus management, high contrast mode support. Target Language: MetaQuotes Language 5 (MQL5) for MetaTrader 5 build 3865+ compatibility.",
  "Risks & Dependencies": "Risk 1: Users create invalid EA logic that compiles but doesn't trade correctly (e.g., wrong entry conditions). Mitigation: Provide comprehensive documentation tab with strategy examples, pre-test all pre-built snippets in real MT5, include example working EAs in templates, add 'Strategy Validator' that checks for common logical errors (e.g., no exit logic, conflicting signals), educational tooltips on each snippet. Risk 2: Browser localStorage limitations (5-10MB) restrict users with 100+ custom snippets or 50+ documentation files. Mitigation: Implement export/import for snippet libraries (backup to file system), add storage usage indicator (progress bar showing 6.2MB / 10MB used), compress data with LZString, offer cloud sync option (Phase 2), warning at 80% capacity. Risk 3: MQL5 syntax changes with MetaTrader updates (happens 2-4 times per year) breaking pre-built snippets. Mitigation: Version tracking system for snippets (snippet_v1.0_MT5_3865, snippet_v1.1_MT5_3890), update notification system checking against MQL5 changelog API, community contribution system for updated snippets, compatibility mode selector (MT5 Build 3800-3900 vs 3900+), automated testing pipeline for syntax validation. Risk 4: Global variable name conflicts when using multiple snippets that create same variable (e.g., two indicators both want g_period). Mitigation: Auto-rename with suffix (g_period ‚Üí g_period_2), show conflict warning modal with merge option, namespace system for snippet authors (g_rsi_period vs g_ma_period), dependency graph showing all globals and their sources. Risk 5: Users forget to enable critical event handlers (e.g., forget OnTick, EA never trades). Mitigation: Smart recommendations in Event Handler Sidebar ('Your EA has indicators but no OnTick - enable OnTick to process signals'), validation warnings before export ('No trading logic detected - OnTick is disabled'), quick preset buttons, guided first-time user flow. Dependency 1: Requires MetaEditor and MetaTrader 5 installed locally to compile and test exported EAs (cannot be tested in browser). Mitigation: Clear instructions in Documentations tab, link to official MT5 download, video tutorial showing compilation process, optional online MQL5 syntax checker API. Dependency 2: Pre-built snippet library must be comprehensive (target: 100+ snippets at launch) for common use cases. Mitigation: Prioritize most-used patterns (MA crossover, RSI, ATR, lot calculation), gather requirements from 10 beta users, analyze existing MT5 EA codebase for common patterns, include snippets for all default tabs, launch with 20 utilities + 15 indicators + 10 functions + 5 documentation templates (50 total MVP). Dependency 3: Users need basic understanding of trading concepts (what is RSI, moving average, stop loss) even with visual builder. Mitigation: Link to trading education resources, tooltips explaining each indicator's purpose, documentation templates with beginner-friendly explanations, hover preview showing what each snippet does in plain English, suggested learning path (start with MA, then add RSI, then risk management). Dependency 4: Markdown rendering library for documentation tab (adds ~50KB bundle size). Mitigation: Use lightweight marked.js or remark (~20KB gzipped), lazy load Markdown parser only when Documentations tab opened, consider basic formatting without full Markdown if bundle size critical.",
  "Timeline & Milestones": "Phase 1 - MVP Foundation (Weeks 1-4, 160 hours): Sidebar Navigation System with collapse/expand (64px/240px), keyboard shortcut (Ctrl/Cmd+B), localStorage persistence, 5 navigation pages (Dashboard active, others 'Coming Soon') (16h), Dashboard layout with sidebar + workspace + library, responsive design with mobile overlay (20h), Event Handler Tab in Code Library with 15 toggleable handlers organized in 6 categories and presets (16h), basic drag-and-drop system (library to workspace only) using dnd-kit (24h), code snippet library with 20 core snippets (Utilities: 8, Indicators: 8, Pre-made Functions: 4) (32h), workspace block management with 3 sections (globals, handlers, main code) (20h), automatic global variable generation for 5 common indicators (RSI, MA, ATR, BB, MACD) (24h), basic code assembly engine (combines blocks, respects order, includes enabled handlers) (24h). Deliverable: Working prototype where user can toggle handlers, drag 20 snippets, see auto-generated globals, preview assembled code. Testing: Manual testing of drag-drop, global creation, handler toggling. Phase 2 - Core Features (Weeks 5-8, 160 hours): Styled global variable input fields with 4 states (default, focus, invalid, modified) (20h), real-time validation with min/max constraints, spinners, keyboard navigation (16h), Documentations tab with create/edit/delete/search functionality (24h), Markdown support for documentation with preview mode (16h), custom snippet creation with modal editor and validation (20h), library tab management (create/rename/delete custom tabs, reorder) (16h), enhanced workspace features (expand/collapse blocks, parameter configuration modals, block reordering within workspace) (24h), code preview modal with Monaco Editor syntax highlighting and statistics panel (24h). Deliverable: Feature-complete MVP with documentation management, global editing, custom content creation. Testing: E2E tests for 10 critical paths (drag-drop, global editing, event toggling, doc creation, export), Jest unit tests for validation and assembly logic. Phase 3 - Polish & Launch Prep (Weeks 9-12, 160 hours): Expand snippet library to 100+ snippets (Utilities: 30, Indicators: 25, Pre-made Functions: 20, Documentation Templates: 10, distribute across 15 categories) (40h), workspace persistence and save/load functionality with auto-save (16h), export system with .txt download, automatic filename generation, workspace state export/import (20h), bulk editing for global variables (select multiple, apply changes) (12h), advanced code assembly with dependency resolution and error detection (16h), comprehensive documentation in Documentations tab (setup guides, parameter explanations, 20 example strategies) (24h), UI/UX polish (animations, transitions, loading states, error messages, empty states) (16h), accessibility audit and keyboard navigation improvements (WCAG 2.1 AA) (16h). Deliverable: Production-ready application with 100+ snippets, comprehensive documentation, full workspace management. Testing: Playwright E2E test suite covering 25+ user flows, accessibility testing with axe-core, cross-browser testing (Chrome, Firefox, Safari), load testing (100 blocks in workspace), edge case testing (localStorage limits, invalid MQL5, handler conflicts). Phase 4 - Launch (Week 13-14, 40 hours): User acceptance testing with 10 beta testers (traders with varying MQL5 experience) (16h), bug fixing based on UAT feedback (12h), performance optimization (code splitting, lazy loading, bundle size reduction to <500KB) (8h), deployment to production (Vercel or Netlify, CDN setup, analytics integration) (4h). Deliverable: Live application at mql5-ea-builder.com with onboarding flow. Success Metrics: 50+ beta user signups, 20+ EAs created in first week, <3 critical bugs, average time to first export <20 minutes, user satisfaction survey >4.0/5.0. Post-Launch Roadmap (Months 2-6): Community snippet sharing platform (users submit snippets, voting system, quality review) (Month 2), cloud sync for workspace and snippets (Firebase/Supabase backend) (Month 3), collaboration features (share workspace link, real-time co-editing, comments) (Month 4), advanced code analysis (complexity metrics, optimization suggestions, backtesting integration) (Month 5), AI assistant for snippet recommendations and documentation generation (OpenAI API integration) (Month 6), mobile-responsive version for tablet (iPad Pro) with touch-optimized drag-and-drop (Month 6)."
}

## Final Output Template (use ONLY at the end)
When all fields above are filled, output just this Markdown with all placeholders replaced. Do not include examples, guidance, or meta text.

# Product Requirements Document (PRD)

## 1. Product Overview
**Title:** {{Title}}  
**Summary:** {{Summary}}  
**Target Audience:** {{Target Audience}}

## 2. Goals & Success Metrics
- **Business Goals:** {{Business Goals}}
- **User Goals:** {{User Goals}}
- **Key Metrics:** {{Key Metrics}}

## 3. User Personas
{{#each User Personas}}
- **{{Name}} ({{Role/Segment}})**  
  - Goals: {{Goals}}  
  - Pain Points: {{Pain Points}}
{{/each}}

## 4. Core Features
{{#each Core Features}}
- **{{Feature Name}}** ({{Priority}}) ‚Äî {{Description}}
{{/each}}

## 5. User Journey
{{User Journey}}

## 6. Technical Considerations
{{Technical Considerations}}

## 7. Risks & Dependencies
{{Risks & Dependencies}}

## 8. Timeline & Milestones
{{Timeline & Milestones}}

## Start the Guided Flow (turn 1)
Ask the first question about **Product Overview** and show a concise example.

Prompt structure for each turn:
- **Question:** <one focused question>  
- **Example (for guidance):** <one short example answer>  
- **Current PRD Draft:** <paste updated PRD_DRAFT block with only the fields filled so far>  
- **What‚Äôs Next:** <name the next section>